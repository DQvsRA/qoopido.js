(function(e,t,n,r){"use strict";var i="qoopido",s="remux",o=function(){return[].push.apply(arguments,[t,n,r]),t[i]=t[i]||{},t[i][s]=e.apply(null,arguments)};typeof define=="function"&&define.amd?define(["./base","./support"],o):o(t[i].base,t[i].support)})(function(e,t,n,r,i){"use strict";function m(){return Math.round(screen.deviceXDPI/screen.logicalXDPI*100)}function g(){v.element=r.createElement("div"),v.container=r.createElement("div"),v.element.innerHTML="1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>0",v.element.setAttribute("style","font: 100px/1em sans-serif !important; -webkit-text-size-adjust: none !important; height: auto !important; width: 1em !important; padding: 0 !important; overflow: visible !important;"),v.container.setAttribute("style","width: 0 !important; height: 0 !important; overflow: hidden !important; visibility: hidden !important; position: absolute; !important"),v.container.appendChild(v.element),r.body.appendChild(v.container)}function y(){return Math.round(1e3/v.element.clientHeight*100)/100}function b(){v.method=function(){return n[t.getMethod("matchMedia")].apply(n,arguments)};switch(t.getPrefix().property){case"webkit":v.property="-webkit-min-device-pixel-ratio";break;case"o":v.property="-o-min-device-pixel-ratio";break;default:v.property="min--moz-device-pixel-ratio"}}function w(e,t,n,r){var i=(e+t)/2,s="("+v.property+":"+i+")";return n<=0||t-e<r?i:v.method(s).matches?w(i,t,n-1,r):w(e,i,n-1,r)}function E(){var e=Math.round(w(0,10,20,1e-4)*100)/100,t=Math.round(d.ratio.device*100)/100;return e===t&&(d.ratio.device=1),e}var s,o,u,a,f,l=r.getElementsByTagName("html")[0],c=r.documentElement,h={},p=[],d={layout:null,width:null,size:{base:null,current:null,zoomed:null,last:null},ratio:{device:n.devicePixelRatio||1,size:null,total:null,image:null}},v={};return e.extend({_constructor:function(){var r=this;!isNaN(screen.logicalXDPI)&&!isNaN(screen.systemXDPI)?f=m:t.supportsProperty("textSizeAdjust")!==!1?(g(),f=y):t.supportsMethod("matchMedia")!==!1?(b(),f=E):f=function(){return 1},n.addEventListener("resize",r.updateState,!1),n.addEventListener("orientationchange",r.updateState,!1),r.updateState()},addLayout:function(t,n){return h[t]=n,this},getState:function(){return d},updateState:function(){var t,s;d.ratio.device=n.devicePixelRatio||1,d.ratio.zoom=f()||1,d.width=c.offsetWidth*d.ratio.zoom;for(t in h)h[t].breakpoint&&d.width>=h[t].breakpoint&&(o=t);o!==d.layout&&(d.layout=o,d.size.base=h[o].base,r.getElementsByTagName("html")[0].setAttribute("data-layout",o),p.push("layoutchange")),d.size.current=Math.max(h[d.layout].min,Math.min(h[d.layout].max,Math.floor(d.size.base*(d.width/h[d.layout].width)))),d.size.zoomed=Math.round(d.ratio.zoom*(d.size.current/d.size.base)*d.size.base),d.size.zoomed!==d.size.last&&(l.style.fontSize=d.size.zoomed+"px",d.size.last=d.size.zoomed,d.ratio.size=d.size.current/d.size.base,d.ratio.total=d.ratio.size*d.ratio.device,d.ratio.image=Math.round(Math.ceil(d.ratio.total/.25)*25)/100,p.push("ratiochange"));for(s=0;(u=p[s])!==i;s++)a=r.createEvent("HTMLEvents"),a.initEvent(u,!0,!0),a.state=d,n.dispatchEvent(a);return p.length=0,this}})},window,document);